# Product Requirements Document (PRD)
## GPS Camera App

**Версия:** 2.0
**Дата:** 14 января 2026
**Автор:** Product Team
**Статус:** Утверждено — Simplified MVP

---

## 1. Обзор продукта

### 1.1 Описание
GPS Camera App — простое мобильное приложение для создания фотографий с автоматической привязкой GPS-координат. Приложение предоставляет:
- **Мобильное приложение** для Android и iOS
- **Публичные ссылки** для шеринга фото с картой через веб-интерфейс
- **Анонимное использование** без регистрации и аутентификации
- **Автоматическое удаление** загруженных фото с настраиваемым сроком жизни

**Особенность:** Приложение сочетает простой пользовательский интерфейс с мощной системой мониторинга для обеспечения безопасности и выявления нарушителей, использующих сервис для незаконной деятельности.

### 1.2 Цели продукта
- Предоставить максимально простой инструмент для создания геопривязанных фотографий
- Обеспечить полную анонимность использования без необходимости регистрации
- Создать систему автоматического удаления фото для защиты приватности
- Реализовать мощную систему модерации для обеспечения безопасности
- Обеспечить возможность шеринга фото через публичные ссылки
- Работать как в офлайн, так и в онлайн режиме

### 1.3 Целевая аудитория

#### Основные сегменты:
1. **Профессионалы (30%)**
   - Геодезисты и топографы
   - Инспекторы и контролеры
   - Строители и прорабы
   - Оценщики недвижимости
   - Требования: высокая точность GPS, быстрая съемка, экспорт данных

2. **Путешественники и туристы (40%)**
   - Любители походов
   - Фотографы-путешественники
   - Блогеры
   - Требования: просмотр на карте, простой интерфейс, шеринг

3. **Обычные пользователи (30%)**
   - Люди, желающие запоминать места съемки
   - Документирование событий
   - Требования: максимальная простота, минимум настроек

### 1.4 Позиционирование
**"Простое приложение для документирования с GPS, с мощной системой мониторинга для обеспечения безопасности"**

Приложение позиционируется как публичный бесплатный сервис, доступный всем, но с встроенной системой выявления нарушителей.

---

## 2. Функциональные требования

### 2.1 MVP функции (Phase 1 — 8 недель)

#### 2.1.1 Камера с GPS
**Приоритет:** Критический
**Описание:** Съемка фотографий с автоматической фиксацией GPS-координат.

**Требования:**
- Захват GPS-координат в момент съемки (широта, долгота, высота)
- Определение точности GPS (accuracy в метрах)
- Автоматическая запись timestamp (дата и время)
- Сохранение данных в EXIF метаданные фото
- Отображение текущих координат на экране камеры
- Индикатор качества GPS сигнала (слабый/средний/сильный)
- Работа в офлайн режиме

**Критерии приемки:**
- GPS координаты фиксируются с точностью до 5-10 метров при хорошем сигнале
- Данные сохраняются в EXIF без потери качества фото
- Приложение работает без интернета для GPS

#### 2.1.2 Локальная галерея с метаданными
**Приоритет:** Критический
**Описание:** Просмотр сделанных фотографий с отображением метаданных.

**Требования:**
- Отображение списка всех фотографий в хронологическом порядке
- Просмотр полноразмерных фото
- Отображение метаданных: координаты, дата, время, точность GPS
- Возможность удаления локальных фотографий
- Поиск по дате
- Индикация статуса загрузки на сервер

**Критерии приемки:**
- Галерея загружается за < 2 секунд для 100 фото
- Метаданные отображаются корректно
- Удаление работает без ошибок

#### 2.1.3 Карта с отметками фотографий
**Приоритет:** Высокий
**Описание:** Интерактивная карта, показывающая все места съемки.

**Требования:**
- Отображение маркеров на карте для каждой фотографии
- Клик по маркеру открывает превью фото
- Масштабирование и перемещение по карте
- Кластеризация маркеров при отдалении
- Переключение типов карт (стандартная, спутник)
- Кнопка "Моя локация"

**Критерии приемки:**
- Карта отображает до 500 маркеров без лагов
- Маркеры кластеризуются корректно
- Все типы карт работают

#### 2.1.4 Дополнительные метаданные
**Приоритет:** Средний
**Описание:** Возможность добавления текстовых заметок и меток.

**Требования:**
- Добавление текстовой заметки к фото (до 500 символов)
- Добавление меток (tags) из предустановленного списка
- Присвоение категорий: Работа, Путешествия, Семья, Другое
- Редактирование метаданных после съемки
- Поиск фото по заметкам и меткам

**Критерии приемки:**
- Заметки сохраняются и отображаются корректно
- Можно создать до 50 пользовательских меток
- Поиск работает по всем типам метаданных

#### 2.1.5 Публичные ссылки на фото
**Приоритет:** Критический
**Описание:** Возможность делиться фотографиями через короткие публичные ссылки.

**Требования:**
- Генерация короткой уникальной ссылки для каждого фото (например: gps.cm/abc123)
- Публичная веб-страница с фото и метаданными
- Отображение координат на мини-карте
- Настройка срока жизни ссылки (1 час, 24 часа, 7 дней, навсегда)
- Срок жизни по умолчанию: 24 часа
- Счетчик просмотров ссылки
- Sharing в мессенджеры (Telegram, WhatsApp, Element, etc.)
- Автоматическое удаление фото с сервера после истечения срока

**Критерии приемки:**
- Ссылка генерируется за < 2 секунды
- Веб-страница корректно отображается на мобильных и desktop
- Фото автоматически удаляется после истечения срока жизни
- Share API работает со всеми популярными мессенджерами

#### 2.1.6 Офлайн режим с очередью загрузок
**Приоритет:** Высокий
**Описание:** Возможность использования приложения без постоянного интернет-соединения.

**Требования:**
- Все фото сохраняются локально на устройстве
- Очередь загрузок на сервер при появлении интернета
- Индикация статуса загрузки (ожидает, загружается, загружено)
- Возможность отмены загрузки конкретного фото
- Настройки загрузки (только Wi-Fi, любая сеть)

**Критерии приемки:**
- Приложение полностью работает без интернета
- Загрузка автоматически возобновляется при появлении сети
- Пользователь видит статус каждого фото

#### 2.1.7 Анонимное использование
**Приоритет:** Критический
**Описание:** Приложение работает без регистрации и аутентификации.

**Требования:**
- Нет экранов регистрации/входа
- Device fingerprinting для идентификации сессий
- Privacy Policy экран при первом запуске
- Кнопка "Принять и продолжить" для согласия с политикой
- Все данные хранятся локально
- Загрузка на сервер только по желанию пользователя (для публичных ссылок)

**Критерии приемки:**
- Приложение запускается без необходимости создания аккаунта
- Privacy Policy отображается один раз при первом запуске
- Пользователь не может продолжить без согласия с политикой

#### 2.1.8 Настройки автоматического удаления
**Приоритет:** Критический
**Описание:** Настройка срока жизни фото на сервере.

**Требования:**
- Выбор срока жизни: 1 час, 24 часа, 7 дней, навсегда
- По умолчанию: 24 часа
- Настройка применяется к новым загрузкам
- Возможность изменить срок для уже загруженного фото
- Уведомление за 1 час до удаления (опционально)

**Критерии приемки:**
- Настройка применяется корректно
- Фото удаляется точно в указанное время
- Локальная копия остается на устройстве

#### 2.1.9 Экспорт в CSV
**Приоритет:** Средний
**Описание:** Базовый экспорт метаданных для профессионалов.

**Требования:**
- Выбор фотографий для экспорта (одна, несколько, все)
- Формат CSV с колонками: имя файла, дата, время, широта, долгота, высота, точность, заметка, метки
- Отправка через Share API
- Сохранение в локальное хранилище

**Критерии приемки:**
- CSV файл генерируется корректно
- Все метаданные присутствуют
- Можно открыть в Excel/Google Sheets

### 2.2 Backend система (Phase 1 — критично!)

#### 2.2.1 Backend API
**Приоритет:** Критический
**Описание:** Серверная часть для загрузки фото и генерации ссылок.

**Требования:**
- REST API на NestJS
- PostgreSQL + PostGIS для хранения метаданных
- AWS S3 / Google Cloud Storage для хранения фото
- Endpoint для загрузки фото (POST /api/photos/upload)
- Endpoint для генерации публичных ссылок (POST /api/links/create)
- Endpoint для получения фото по ссылке (GET /link/:shortId)
- Лимит размера фото: 10 MB
- Валидация GPS координат
- Extraction метаданных: IP, User-Agent, device fingerprint

**Критерии приемки:**
- API обрабатывает запросы за < 1 секунды
- Фото корректно загружается и сохраняется
- Метаданные сохраняются полностью

#### 2.2.2 Сбор метаданных (Security)
**Приоритет:** Критический
**Описание:** Детальный сбор метаданных для модерации и безопасности.

**Собираемые данные:**
```json
{
  "upload_id": "uuid",
  "device_id": "device-fingerprint",
  "timestamp": "2026-01-15T10:30:00Z",
  "ip_address": "192.168.1.1",
  "ip_country": "RU",
  "ip_city": "Moscow",
  "device_model": "iPhone 15 Pro",
  "os_version": "iOS 17.2",
  "app_version": "1.0.0",
  "photo": {
    "size": 3456789,
    "dimensions": "4032x3024",
    "format": "JPEG",
    "gps": {
      "latitude": 55.7558,
      "longitude": 37.6173,
      "accuracy": 8,
      "altitude": 150
    }
  },
  "upload_duration_ms": 2345,
  "deleted_at": null,
  "scheduled_deletion": "2026-01-16T10:30:00Z"
}
```

**Критерии приемки:**
- Все метаданные собираются корректно
- IP геолокация работает
- Device fingerprinting стабилен

#### 2.2.3 Автоматическое удаление фото (с сохранением метаданных)
**Приоритет:** Критический
**Описание:** Cron job для удаления фото после истечения срока, с сохранением метаданных для анализа паттернов.

**Требования:**
- Проверка каждые 10 минут
- Удаление фото из S3/GCS
- **ВАЖНО:** Метаданные НЕ удаляются — остаются в БД для анализа паттернов
- Обновление статуса: `deleted_at` timestamp, `photo_url` = null
- Метаданные анонимизируются через 90 дней (hash IP, удаление device_id)
- Логирование удалений
- Защита от случайного удаления (double-check)

**Критерии приемки:**
- Фото удаляется точно в указанное время (±10 минут)
- Метаданные сохраняются в БД для анализа
- Pattern analysis работает даже после удаления фото
- Нет утечек данных

#### 2.2.4 Модерация через Telegram Bot (Personal — Single Owner)
**Приоритет:** Критический
**Описание:** Личный Telegram-бот для мониторинга загрузок владельцем приложения. ВАЖНО: Доступ только у владельца, никакой команды модераторов.

**Требования:**
- Автоматическая отправка каждого загруженного фото в личный Telegram (ваш аккаунт)
- Роутинг по регионам на основе GPS координат:
  - Канал #moscow — фото из Москвы и МО
  - Канал #spb — фото из Санкт-Петербурга и ЛО
  - Канал #russia_other — остальные регионы РФ
  - Канал #foreign — фото из-за границы
  - Канал #suspicious — подозрительная активность (location patterns)
- Метаданные в сообщении: IP, город, device model, GPS координаты, точность, время, ссылка
- **Location-based pattern detection** (НЕ NSFW):
  - Много загрузок в одной точке (радиус 50м)
  - Регулярные интервалы загрузок (каждые 30 мин)
  - Ночные загрузки (00:00-06:00)
  - "Маршруты" между городами (возможная доставка)
- Rate limiting alerts (подозрительная частота)
- Geocoding адреса для удобства (Google/Nominatim)

**Критерии приемки:**
- Каждое фото попадает в правильный канал
- Метаданные отображаются читабельно с адресом
- Pattern detection срабатывает на подозрительные location паттерны
- Alerts отправляются в #suspicious при детекции паттернов

#### 2.2.5 Rate Limiting & Security
**Приоритет:** Высокий
**Описание:** Защита от злоупотреблений и автоматизации.

**Требования:**
- IP-based rate limiting: max 10 загрузок в час с одного IP
- Device-based rate limiting: max 20 загрузок в день с одного device ID
- Автоматическая блокировка при превышении лимитов
- CAPTCHA при подозрительной активности (optional, Phase 2)
- Блэклист IP адресов
- Блэклист device fingerprints

**Критерии приемки:**
- Rate limiting работает корректно
- Блокировка активируется автоматически
- Легитимные пользователи не страдают

#### 2.2.6 Geocoding Service (КРИТИЧНО — было упущено)
**Приоритет:** Высокий
**Описание:** Преобразование GPS координат в читаемые адреса для модерации и UX.

**Требования:**
- Google Geocoding API / Nominatim (OpenStreetMap)
- Reverse geocoding: координаты → адрес
- Кэширование результатов (не запрашивать повторно для одних координат)
- Fallback если API недоступен (показывать только координаты)
- Отображение адреса в Telegram сообщениях
- Отображение адреса на public link viewer

**Критерии приемки:**
- Адрес определяется корректно
- Кэш работает (не превышаем API лимиты)
- Fallback не ломает функциональность

#### 2.2.7 Device Fingerprinting (улучшенная стратегия)
**Приоритет:** Критический
**Описание:** Надежная идентификация устройств для rate limiting и pattern analysis.

**Стратегия (комбинированная):**
- **iOS:** IDFV (Identifier for Vendor) + device model + OS version hash
- **Android:** Installation ID + Android ID + device model hash
- **Дополнительно:** Screen resolution, timezone, language
- **Fallback:** UUID генерируется при первом запуске, хранится в SecureStorage
- Fingerprint меняется при переустановке (ОК, не критично)
- Хранение в secure storage (Keychain/EncryptedSharedPreferences)

**Важно:**
- НЕ использовать IDFA (требует permission)
- НЕ использовать hardware fingerprint (нарушение privacy)
- Прозрачность в Privacy Policy

**Критерии приемки:**
- Fingerprint стабилен между запусками
- Fingerprint уникален (collision rate < 0.1%)
- Compliance с iOS App Store и Google Play policies

#### 2.2.8 Error Handling & Retry Logic (было упущено)
**Приоритет:** Высокий
**Описание:** Обработка ошибок загрузки и retry механизм.

**Требования:**
- **Exponential backoff** для retry (1s, 2s, 4s, 8s, 16s)
- Максимум 5 retries
- Resume upload (если поддерживается S3 Multipart Upload)
- Уведомление пользователю о failed upload
- Очистка failed partial uploads (background task)
- Offline queue с persist (сохраняется при закрытии приложения)

**Error states:**
- Network error → retry
- Server 5xx → retry
- 413 Too Large → immediate fail (показать ошибку)
- 401/403 → immediate fail (ошибка API key)
- Timeout → retry

**Критерии приемки:**
- Retry работает автоматически
- Пользователь видит прогресс и ошибки
- Failed uploads не засоряют хранилище

#### 2.2.9 Thumbnail Generation (было упущено)
**Приоритет:** Средний
**Описание:** Генерация thumbnails для уменьшения bandwidth в Telegram и gallery.

**Требования:**
- Thumbnail размер: 640x480 (макс)
- Генерация на клиенте перед загрузкой
- Separate upload: full photo + thumbnail
- Telegram получает thumbnail (не 10MB фото)
- Gallery использует thumbnails для preview

**Bandwidth экономия:**
- 10MB фото → 100KB thumbnail = 100x экономия
- 1000 uploads/день × 100KB = 100MB вместо 10GB

**Критерии приемки:**
- Thumbnail качество достаточное для preview
- Bandwidth для Telegram снижен на 90%+

---

## 3. Нефункциональные требования

### 3.1 Производительность
- Запуск приложения: < 3 секунд
- Открытие камеры: < 1 секунды
- Захват фото с GPS: < 2 секунд
- Загрузка галереи (100 фото): < 2 секунд
- Отображение карты (100 точек): < 3 секунд
- Upload фото на сервер: < 3 секунд (10MB на 4G)

### 3.2 Надежность
- Приложение не крашится при потере GPS сигнала
- Корректная работа при слабом интернете или его отсутствии
- Автосохранение данных каждые 30 секунд
- Восстановление после крэша без потери данных
- < 2% crash rate

### 3.3 Безопасность
- Хранение фото в защищенной папке приложения
- Никакая информация не передается третьим лицам
- Соответствие GDPR и РФ законам о конфиденциальности
- Privacy Policy с полным раскрытием собираемых данных
- Сбор метаданных только для безопасности и compliance
- Автоматическое удаление фото с сервера

### 3.4 Совместимость
**Android:**
- Минимальная версия: Android 8.0 (API 26)
- Целевая версия: Android 14 (API 34)
- Поддержка различных размеров экранов

**iOS:**
- Минимальная версия: iOS 13.0
- Целевая версия: iOS 17
- Поддержка iPhone и iPad

### 3.5 Локализация
- Интерфейс на русском языке (основной)
- Поддержка английского языка
- Локализация форматов даты и времени

### 3.6 Доступность (Accessibility)
- Поддержка TalkBack (Android) и VoiceOver (iOS)
- Минимальный размер кнопок: 44x44 dp/pt
- Контрастность текста: минимум 4.5:1
- Поддержка системных настроек размера шрифта

---

## 4. Пользовательские истории (User Stories)

### US-001: Съемка с GPS без регистрации
**Как** пользователь
**Я хочу** сделать фото с GPS сразу после установки
**Чтобы** не тратить время на регистрацию

**Критерии приемки:**
- Приложение запускается без создания аккаунта
- Первый экран — Privacy Policy с кнопкой "Принять"
- После принятия сразу доступна камера

### US-002: Просмотр на карте
**Как** путешественник
**Я хочу** видеть все мои фото на карте
**Чтобы** вспомнить, где я был

**Критерии приемки:**
- Все фото отображаются как маркеры
- Клик по маркеру показывает превью
- Могу масштабировать и перемещать карту

### US-003: Делиться фото по ссылке
**Как** пользователь
**Я хочу** поделиться фото через ссылку в Telegram
**Чтобы** коллеги увидели фото с картой без установки приложения

**Критерии приемки:**
- Могу создать публичную ссылку за 1 клик
- Ссылка открывается в браузере с фото и картой
- Могу выбрать срок действия ссылки
- По умолчанию ссылка активна 24 часа

### US-004: Работа без интернета
**Как** пользователь в походе
**Я хочу** делать фото без интернета
**Чтобы** не зависеть от сети

**Критерии приемки:**
- Могу делать фото без интернета
- GPS работает без интернета
- Фото загрузится на сервер, когда появится сеть

### US-005: Экспорт для профессионалов
**Как** геодезист
**Я хочу** экспортировать координаты в CSV
**Чтобы** передать данные в офис

**Критерии приемки:**
- Могу выбрать фото для экспорта
- CSV содержит все метаданные
- Могу отправить через email или мессенджер

### US-006: Автоматическое удаление для приватности
**Как** пользователь, заботящийся о приватности
**Я хочу** чтобы мои фото удалялись с сервера автоматически
**Чтобы** не хранить данные в облаке долго

**Критерии приемки:**
- Могу выбрать срок жизни фото (1ч/24ч/7д/навсегда)
- Фото удаляется автоматически после истечения срока
- Локальная копия на телефоне остается

---

## 5. Конкурентный анализ

### 5.1 Прямые конкуренты

#### NoteCam / NoteCam Lite
**Сильные стороны:**
- Большая база пользователей
- Простой интерфейс
- Стабильная работа

**Слабые стороны:**
- Устаревший дизайн
- Ограниченные возможности карты
- Нет публичных ссылок
- Нет автоматического удаления

**Наше преимущество:** Современный дизайн, публичные ссылки, автоматическое удаление, анонимность

#### GPS Map Camera
**Сильные стороны:**
- Высокая точность GPS
- Много шаблонов наложения

**Слабые стороны:**
- Перегруженный интерфейс
- Много рекламы
- Требует регистрацию для некоторых функций

**Наше преимущество:** Чистый интерфейс, нет регистрации, нет рекламы

#### Timestamp Camera
**Сильные стороны:**
- Профессиональные шаблоны
- Пакетная обработка

**Слабые стороны:**
- Платная подписка для основных функций
- Нет карты
- Нет публичных ссылок

**Наше преимущество:** Все основные функции бесплатны, интегрированная карта, публичные ссылки

### 5.2 Наши уникальные преимущества

1. **Полная анонимность** — нет регистрации, нет аккаунтов
2. **Публичные ссылки** — уникальная возможность шеринга с картой
3. **Автоматическое удаление** — защита приватности встроена
4. **Офлайн первым** — приложение работает без интернета
5. **Простота** — минимум настроек, максимум функциональности
6. **Безопасность** — система модерации для выявления нарушителей
7. **Честность** — полное раскрытие собираемых данных в Privacy Policy
8. **Бесплатно** — все функции доступны без подписки

---

## 6. Бизнес-модель и монетизация

### 6.1 Модель распространения
**Полностью бесплатное приложение для MVP**

Приложение позиционируется как публичный сервис, доступный всем. Монетизация планируется после валидации концепции и набора пользовательской базы.

### 6.2 Бесплатные функции (все функции)
- Съемка с GPS (неограниченно)
- Локальная галерея и карта (неограниченно)
- Публичные ссылки (неограниченно)
- Автоматическое удаление (все опции доступны)
- Экспорт в CSV
- Метки и заметки
- Офлайн режим

### 6.3 Будущая монетизация (Phase 2+)
**Возможные варианты:**
- Premium подписка для продвинутых функций:
  - Экспорт в KML, GPX, ZIP
  - Наложение данных на фото
  - Неограниченный срок хранения на сервере
  - Облачная синхронизация
  - Офлайн карты
  - AR функции

**Примерная цена:** 299₽/месяц или 1990₽/год

**Корпоративные решения:**
- Enterprise API
- Кастомные решения для бизнеса
- Корпоративные лицензии

### 6.4 Метрики успеха

**KPI для MVP (первые 3 месяца):**
- 1,000+ установок
- 20%+ retention (7 days)
- 4.0+ рейтинг в сторах
- < 2% crash rate
- Effective moderation (нет незаконного контента)

**KPI для роста (3-6 месяцев):**
- 10,000+ установок
- 25%+ retention
- 4.5+ рейтинг
- 5%+ конверсия в будущую Premium подписку (после введения)
- Положительные отзывы от профессионалов

---

## 7. Технические ограничения и зависимости

### 7.1 Внешние зависимости
- GPS сервисы устройства (обязательно)
- Картографические API (Google Maps / Mapbox)
- Хранилище устройства (требуется разрешение)
- Камера устройства (обязательно)
- Интернет (опционально, только для загрузки на сервер)
- AWS S3 / Google Cloud Storage
- Geocoding API (Google Geocoding / Nominatim для адресов)
- Telegram Bot API (для личной модерации владельцем)

### 7.2 Ограничения
- Точность GPS зависит от устройства и условий
- Максимальный размер фото: 10 MB
- Размер приложения: < 50 МБ
- Rate limits: 10 загрузок/час с одного IP, 20/день с одного device

---

## 8. Риски и митигация

| Риск | Вероятность | Влияние | Митигация |
|------|-------------|---------|-----------|
| Низкая точность GPS в помещениях | Высокая | Среднее | Индикатор точности, предупреждение при accuracy > 50m |
| Высокое потребление батареи | Средняя | Высокое | GPS только при съемке (не continuous), оптимизация |
| Злоупотребление для незаконной деятельности | Средняя | Критическое | Location pattern detection, rate limiting, metadata logging |
| Device fingerprinting обход (переустановка) | Средняя | Среднее | IP-based rate limiting как backup, behavioral analysis |
| Geocoding API лимиты/стоимость | Средняя | Среднее | Кэширование, fallback на координаты, использование Nominatim |
| Проблемы с Privacy compliance (GDPR/РФ) | Средняя | Критическое | Детальная Privacy Policy, полное раскрытие, автоудаление фото |
| Bandwidth costs при росте | Высокая | Высокое | Thumbnail generation, compression, CDN для public links |
| Telegram rate limits при большом трафике | Средняя | Среднее | Queue с batching, группировка в albums |
| Юридическая ответственность за действия пользователей | Низкая | Критическое | Disclaimer в ToS, сотрудничество с правоохранительными органами |

---

## 9. План релиза

### Phase 1: MVP (8 недель)

**Week 1-2: Backend + Infrastructure**
- NestJS API
- PostgreSQL + PostGIS (с индексами для performance)
- S3/GCS integration
- Telegram moderation bot (личный, single owner)
- Location pattern detection logic
- Geocoding service integration
- Auto-deletion worker (с сохранением метаданных)
- Device fingerprinting implementation

**Week 3-4: Mobile App Core**
- React Native setup
- Camera + GPS
- Локальная галерея
- Карта с маркерами
- Офлайн очередь

**Week 5-6: Public Links + Polish**
- Link generation API
- Web viewer (Next.js)
- Privacy Policy screen
- Настройки автоудаления
- Share integration

**Week 7-8: Testing + Release**
- Manual testing
- GPS testing
- Moderation testing
- Security testing
- App Store / Google Play submission

**Цель:** Рабочее приложение в сторах с полным функционалом

### Phase 2: Enhancement (3 месяца после MVP)
- Экспорт в KML, GPX, ZIP
- Наложение данных на фото
- Premium подписка
- Расширенные фильтры
- Темная тема

**Цель:** Монетизация, повышение ценности

### Phase 3: Scale (6 месяцев после Phase 2)
- Облачная синхронизация
- Офлайн карты
- AR функции
- Корпоративные решения
- Публичный API для разработчиков

**Цель:** Масштабирование, новые рынки

---

## 10. Критерии успеха продукта

### Количественные метрики:
- ✅ 1,000+ установок за первые 3 месяца
- ✅ 4.0+ средний рейтинг в App Store и Google Play
- ✅ 20%+ retention rate (7 дней)
- ✅ < 2% crash rate
- ✅ Upload time < 3 sec (10MB photo on 4G)

### Качественные метрики:
- ✅ Положительные отзывы от целевой аудитории
- ✅ Упоминания в профессиональных сообществах
- ✅ Низкое количество жалоб на поддержку
- ✅ Высокая вовлеченность (частота использования)
- ✅ Effective moderation (нет незаконного контента)

### Безопасность и модерация:
- ✅ Location pattern detection работает (выявление подозрительных паттернов)
- ✅ Zero data breaches
- ✅ Privacy Policy compliance (GDPR + РФ законодательство)
- ✅ Effective rate limiting (нет злоупотреблений)
- ✅ Geocoding работает корректно (< 5% failed requests)
- ✅ Device fingerprinting стабилен (collision rate < 0.1%)
- ✅ Metadata retention работает (данные сохраняются после удаления фото)

---

## 11. Privacy & Data Collection

### 11.1 Собираемые данные
**Для обеспечения безопасности и выявления нарушителей собираются:**
- IP адрес (для геолокации и rate limiting)
- Device fingerprint (для идентификации сессий)
- Device model и OS version (для технической поддержки)
- GPS координаты из фото (основная функция)
- Timestamps (время загрузки)
- Photo metadata (размер, формат, разрешение)
- Upload duration (для мониторинга производительности)

### 11.2 Зачем собираются данные
- **Безопасность:** выявление нарушителей, использующих сервис для незаконной деятельности (например, наркотрафик)
- **Compliance:** соответствие законам и требованиям правоохранительных органов
- **Rate limiting:** защита от злоупотреблений и автоматизации
- **Аналитика:** улучшение работы приложения
- **Техническая поддержка:** диагностика проблем

### 11.3 Как храним и удаляем
- Метаданные хранятся в PostgreSQL
- Фотографии хранятся в AWS S3 / Google Cloud Storage
- Автоматическое удаление фото после истечения срока жизни
- Метаданные сохраняются для compliance (анонимизированные логи)
- Никакие данные не передаются третьим лицам без согласия
- Соответствие GDPR и РФ законам

### 11.4 Раскрытие в Privacy Policy
**Все собираемые данные полностью раскрываются в Privacy Policy:**
- Что собираем
- Зачем собираем
- Как храним
- Когда удаляем
- С кем делимся (никто, кроме правоохранительных органов по запросу)

Пользователь принимает Privacy Policy при первом запуске приложения.

---

## 12. Контакты и утверждения

**Product Owner:** [Имя]
**Tech Lead:** [Имя]
**Stakeholders:** [Список]
**Дата утверждения:** 14 января 2026

**История изменений:**
| Версия | Дата | Автор | Описание изменений |
|--------|------|-------|-------------------|
| 1.0 | 14.01.2026 | Product Team | Первоначальная версия PRD |
| 2.0 | 14.01.2026 | Product Team | Упрощение MVP: убран Telegram-бот для пользователей, убрана сложная аутентификация, добавлена система модерации, анонимное использование, автоудаление |

---

**Статус:** ✅ Утверждено к реализации
