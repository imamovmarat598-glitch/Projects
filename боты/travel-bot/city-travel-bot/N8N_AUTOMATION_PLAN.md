# ü§ñ N8N –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –¥–ª—è City Travel Bot

## –û–±–∑–æ—Ä

N8N –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å:
- üìä –ü–∞—Ä—Å–∏–Ω–≥ —Å–æ–±—ã—Ç–∏–π –∏–∑ KudaGo
- üñºÔ∏è –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- üîî –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏ —Å–æ–±—ã—Ç–∏–π
- üìà –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

---

## üéØ Workflow 1: –ü–∞—Ä—Å–∏–Ω–≥ –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π

### –¶–µ–ª—å
–ö–∞–∂–¥—ã–π —á–∞—Å –æ–±–Ω–æ–≤–ª—è—Ç—å –±–∞–∑—É —Å–æ–±—ã—Ç–∏–π –∏–∑ KudaGo API –∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –≤ Google Sheets –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞.

### –®–∞–≥–∏ workflow:

```
1. Schedule Trigger (–∫–∞–∂–¥—ã–π —á–∞—Å)
   ‚Üì
2. Google Sheets: –ß–∏—Ç–∞–µ–º —Å–ø–∏—Å–æ–∫ –≥–æ—Ä–æ–¥–æ–≤ –∏–∑ Favorites
   ‚Üì
3. Loop —á–µ—Ä–µ–∑ –≥–æ—Ä–æ–¥–∞
   ‚Üì
4. HTTP Request: KudaGo API /events
   ‚Üì
5. Filter: –û—Å—Ç–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è (date > now)
   ‚Üì
6. HTTP Request: –ó–∞–≥—Ä—É–∂–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–æ–±—ã—Ç–∏–π
   ‚Üì
7. Cloudinary/S3: –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
   ‚Üì
8. Google Sheets: –ó–∞–ø–∏—Å—ã–≤–∞–µ–º —Å–æ–±—ã—Ç–∏—è –≤ –ª–∏—Å—Ç "Events Cache"
   ‚Üì
9. Webhook: –£–≤–µ–¥–æ–º–ª—è–µ–º –±–æ—Ç–∞ –æ –Ω–æ–≤—ã—Ö —Å–æ–±—ã—Ç–∏—è—Ö
```

### –õ–∏—Å—Ç "Events Cache" –≤ Google Sheets:

| –ö–æ–ª–æ–Ω–∫–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| event_id | ID —Å–æ–±—ã—Ç–∏—è –∏–∑ KudaGo |
| city | –ì–æ—Ä–æ–¥ |
| title | –ù–∞–∑–≤–∞–Ω–∏–µ |
| description | –û–ø–∏—Å–∞–Ω–∏–µ |
| event_date | –î–∞—Ç–∞ —Å–æ–±—ã—Ç–∏—è |
| price | –¶–µ–Ω–∞ |
| image_url | URL –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è |
| category | concert / exhibition / theater / ... |
| cached_at | –ö–æ–≥–¥–∞ –∑–∞–∫—ç—à–∏—Ä–æ–≤–∞–Ω–æ |
| is_active | true/false (–ø—Ä–æ—à–ª–æ —Å–æ–±—ã—Ç–∏–µ –∏–ª–∏ –Ω–µ—Ç) |

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- ‚úÖ –ë–æ—Ç –Ω–µ –¥–µ–ª–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –∫ KudaGo –ø—Ä–∏ –∫–∞–∂–¥–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–º –∑–∞–ø—Ä–æ—Å–µ
- ‚úÖ –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —É–∂–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∏ –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã
- ‚úÖ –ú–æ–∂–Ω–æ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ —Å–æ–±—ã—Ç–∏—è
- ‚úÖ –ë—ã—Å—Ç—Ä—ã–µ –æ—Ç–≤–µ—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º

---

## üéØ Workflow 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏ —Å–æ–±—ã—Ç–∏–π

### –¶–µ–ª—å
–ö–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤ –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Å–æ–±—ã—Ç–∏—è –∏ –ø–æ–º–µ—á–∞—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –∫–∞–∫ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–µ.

### –®–∞–≥–∏ workflow:

```
1. Schedule Trigger (–∫–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤)
   ‚Üì
2. Google Sheets: –ß–∏—Ç–∞–µ–º –≤—Å–µ —Å–æ–±—ã—Ç–∏—è –∏–∑ Events Cache
   ‚Üì
3. Filter: –ù–∞—Ö–æ–¥–∏–º —Å–æ–±—ã—Ç–∏—è –≥–¥–µ event_date < now
   ‚Üì
4. Google Sheets: –û–±–Ω–æ–≤–ª—è–µ–º is_active = false –¥–ª—è —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö
   ‚Üì
5. Slack/Telegram: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω—É –æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö
```

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –≤–∏–¥—è—Ç —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ —Å–æ–±—ã—Ç–∏—è
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –±–∞–∑—ã
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –ø—Ä–æ—à–µ–¥—à–∏–º —Å–æ–±—ã—Ç–∏—è–º

---

## üéØ Workflow 3: –£–º–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

### –¶–µ–ª—å
–û—Ç–ø—Ä–∞–≤–ª—è—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –æ —Å–æ–±—ã—Ç–∏—è—Ö.

### –¢–∏–ø—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:

#### 3.1. –ó–∞ 24 —á–∞—Å–∞ –¥–æ —Å–æ–±—ã—Ç–∏—è

```
1. Schedule Trigger (–∫–∞–∂–¥—ã–π —á–∞—Å)
   ‚Üì
2. Google Sheets: –ß–∏—Ç–∞–µ–º Events Cache
   ‚Üì
3. Filter: event_date = now + 24 hours
   ‚Üì
4. Google Sheets: –ß–∏—Ç–∞–µ–º Favorites (–∫—Ç–æ –ø–æ–¥–ø–∏—Å–∞–Ω –Ω–∞ —ç—Ç–æ—Ç –≥–æ—Ä–æ–¥)
   ‚Üì
5. Google Sheets: –ü—Ä–æ–≤–µ—Ä—è–µ–º Preferences (–ø–æ–¥—Ö–æ–¥–∏—Ç –ª–∏ —Ç–∏–ø —Å–æ–±—ã—Ç–∏—è)
   ‚Üì
6. Loop —á–µ—Ä–µ–∑ –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
   ‚Üì
7. Telegram: –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
   ‚Üì
8. Google Sheets: –ó–∞–ø–∏—Å—ã–≤–∞–µ–º –≤ Notifications Log
```

#### 3.2. –ó–∞ 30 –º–∏–Ω—É—Ç –¥–æ —Å–æ–±—ã—Ç–∏—è

```
1. Schedule Trigger (–∫–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç)
   ‚Üì
2. Google Sheets: –ß–∏—Ç–∞–µ–º Events Cache
   ‚Üì
3. Filter: event_date = now + 30 minutes
   ‚Üì
4. Google Sheets: –ß–∏—Ç–∞–µ–º History (–∫—Ç–æ –∏—Å–∫–∞–ª —ç—Ç–æ—Ç –≥–æ—Ä–æ–¥ –Ω–µ–¥–∞–≤–Ω–æ)
   ‚Üì
5. Google Sheets: –ü—Ä–æ–≤–µ—Ä—è–µ–º subscription_type (Premium/VIP)
   ‚Üì
6. Telegram: "–°–æ–±—ã—Ç–∏–µ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ 30 –º–∏–Ω—É—Ç!"
```

#### 3.3. –ù–æ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è –≤ –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö –≥–æ—Ä–æ–¥–∞—Ö

```
1. Webhook Trigger (–∏–∑ Workflow 1)
   ‚Üì
2. Filter: –ù–æ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è (cached_at = now)
   ‚Üì
3. Google Sheets: –ß–∏—Ç–∞–µ–º Favorites –¥–ª—è —ç—Ç–æ–≥–æ –≥–æ—Ä–æ–¥–∞
   ‚Üì
4. Filter: notify_new_events = true
   ‚Üì
5. Google Sheets: –ü—Ä–æ–≤–µ—Ä—è–µ–º Preferences
   ‚Üì
6. AI (OpenAI): –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
   ‚Üì
7. Telegram: –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
```

#### 3.4. –≠–∫—Å—Ç—Ä–µ–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (–ß–ü)

```
1. Manual Trigger (–∞–¥–º–∏–Ω –∑–∞–ø—É—Å–∫–∞–µ—Ç –≤—Ä—É—á–Ω—É—é)
   ‚Üì
2. Input: city, message, urgency_level
   ‚Üì
3. Google Sheets: –ß–∏—Ç–∞–µ–º Users –≤ —ç—Ç–æ–º –≥–æ—Ä–æ–¥–µ
   ‚Üì
4. Filter: subscription_type (–¥–ª—è VIP - –≤—Å–µ–≥–¥–∞, –¥–ª—è Free - —Ç–æ–ª—å–∫–æ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ)
   ‚Üì
5. Telegram: –ú–∞—Å—Å–æ–≤–∞—è —Ä–∞—Å—Å—ã–ª–∫–∞
   ‚Üì
6. Google Sheets: –õ–æ–≥ —Ä–∞—Å—Å—ã–ª–∫–∏
```

#### 3.5. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –æ–∫–æ–Ω—á–∞–Ω–∏–∏ –ø–æ–¥–ø–∏—Å–∫–∏

```
1. Schedule Trigger (—Ä–∞–∑ –≤ –¥–µ–Ω—å)
   ‚Üì
2. Google Sheets: –ß–∏—Ç–∞–µ–º Users
   ‚Üì
3. Filter: subscription_expires = now + 3 days
   ‚Üì
4. Telegram: "–í–∞—à–∞ –ø–æ–¥–ø–∏—Å–∫–∞ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ 3 –¥–Ω—è"
   ‚Üì
5. Generate Payment Link (–°–ë–ü/–ÆMoney)
   ‚Üì
6. Telegram: –ö–Ω–æ–ø–∫–∞ "–ü—Ä–æ–¥–ª–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É"
```

---

## üéØ Workflow 4: –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

### –¶–µ–ª—å
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–æ–±—ã—Ç–∏–π –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –≤ Telegram.

### –®–∞–≥–∏ workflow:

```
1. Webhook Trigger (–∫–æ–≥–¥–∞ –Ω–æ–≤–æ–µ —Å–æ–±—ã—Ç–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ)
   ‚Üì
2. HTTP Request: –°–∫–∞—á–∏–≤–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
   ‚Üì
3. Image Processing:
   - Resize –¥–æ 800x600 (–æ–ø—Ç–∏–º–∞–ª—å–Ω–æ –¥–ª—è Telegram)
   - Compress (–∫–∞—á–µ—Å—Ç–≤–æ 85%)
   - Convert –≤ WebP –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ —Ç—Ä–∞—Ñ–∏–∫–∞
   ‚Üì
4. Cloudinary/S3: –ó–∞–≥—Ä—É–∂–∞–µ–º –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
   ‚Üì
5. Generate CDN URL
   ‚Üì
6. Google Sheets: –û–±–Ω–æ–≤–ª—è–µ–º image_url –≤ Events Cache
   ‚Üì
7. Webhook: –£–≤–µ–¥–æ–º–ª—è–µ–º –±–æ—Ç–∞ —á—Ç–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ
```

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- ‚úÖ –ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –≤ Telegram
- ‚úÖ –≠–∫–æ–Ω–æ–º–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –ï–¥–∏–Ω—ã–π —Å—Ç–∏–ª—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- ‚úÖ CDN –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞

---

## üéØ Workflow 5: AI-–ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è (OpenAI)

### –¶–µ–ª—å
–ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

### –®–∞–≥–∏ workflow:

```
1. Webhook Trigger (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø—Ä–æ—Å–∏–ª —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏)
   ‚Üì
2. Google Sheets: –ß–∏—Ç–∞–µ–º Preferences –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   ‚Üì
3. Google Docs API: –ß–∏—Ç–∞–µ–º –ø–æ–¥—Ä–æ–±–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   ‚Üì
4. Google Sheets: –ß–∏—Ç–∞–µ–º History (–ø—Ä–æ—à–ª—ã–µ –ø–æ–∏—Å–∫–∏)
   ‚Üì
5. Google Sheets: –ß–∏—Ç–∞–µ–º Events Cache –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –≥–æ—Ä–æ–¥–∞
   ‚Üì
6. OpenAI API: –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

   Prompt:
   "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:
   - –ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è: {travel_style}, {budget_level}
   - –õ—é–±–∏—Ç: {event_types}
   - –ò—Å—Ç–æ—Ä–∏—è: {previous_searches}
   - –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: {preferences_text}

   –°–æ–±—ã—Ç–∏—è:
   {events_list}

   –°–æ–∑–¥–∞–π –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç –Ω–∞ {duration} –¥–Ω–µ–π.
   –£—á—Ç–∏ –±—é–¥–∂–µ—Ç –∏ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è.
   –ù–∞—á–Ω–∏ –º–∞—Ä—à—Ä—É—Ç –æ—Ç –æ—Ç–µ–ª—è: {hotel_address}"
   ‚Üì
7. Parse AI Response
   ‚Üì
8. Yandex Maps API: –ü–æ—Å—Ç—Ä–æ–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç –º–µ–∂–¥—É –ª–æ–∫–∞—Ü–∏—è–º–∏
   ‚Üì
9. Format Response (Markdown –¥–ª—è Telegram)
   ‚Üì
10. Webhook: –û—Ç–ø—Ä–∞–≤–∏—Ç—å –±–æ—Ç—É –≥–æ—Ç–æ–≤—ã–π –º–∞—Ä—à—Ä—É—Ç
```

### –ü—Ä–∏–º–µ—Ä AI-–æ—Ç–≤–µ—Ç–∞:

```markdown
üéØ –í–∞—à –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç –Ω–∞ 2 –¥–Ω—è –≤ –ú–æ—Å–∫–≤–µ

–î–µ–Ω—å 1 - –ö—É–ª—å—Ç—É—Ä–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞
üè® –°—Ç–∞—Ä—Ç: –û—Ç–µ–ª—å "–ú–µ—Ç—Ä–æ–ø–æ–ª—å" (09:00)
   ‚Üì 15 –º–∏–Ω –ø–µ—à–∫–æ–º
üé≠ 10:00 - –ë–æ–ª—å—à–æ–π –¢–µ–∞—Ç—Ä
   "–õ–µ–±–µ–¥–∏–Ω–æ–µ –æ–∑–µ—Ä–æ" - 2500‚ÇΩ
   ‚è± 3 —á–∞—Å–∞
   ‚Üì 20 –º–∏–Ω –Ω–∞ –º–µ—Ç—Ä–æ
üçΩ 13:30 - –û–±–µ–¥ –≤ "Cafe Pushkin"
   –ë—é–¥–∂–µ—Ç: ~1500‚ÇΩ
   ‚Üì 10 –º–∏–Ω –ø–µ—à–∫–æ–º
üèõ 15:00 - –¢—Ä–µ—Ç—å—è–∫–æ–≤—Å–∫–∞—è –≥–∞–ª–µ—Ä–µ—è
   –í—Ö–æ–¥: 500‚ÇΩ
   ‚è± 2 —á–∞—Å–∞
   ‚Üì 25 –º–∏–Ω –Ω–∞ –º–µ—Ç—Ä–æ
üé∏ 19:00 - –ö–æ–Ω—Ü–µ—Ä—Ç –≤ "–ì–ª–∞–≤–∫–ª—É–±"
   –ë–∏–ª–µ—Ç: 1800‚ÇΩ

üí∞ –ò—Ç–æ–≥–æ –¥–µ–Ω—å 1: ~6300‚ÇΩ
üö∂ –û–±—â–µ–µ –≤—Ä–µ–º—è –≤ –ø—É—Ç–∏: 1—á 10–º–∏–Ω

[–û—Ç–∫—Ä—ã—Ç—å –º–∞—Ä—à—Ä—É—Ç –Ω–∞ –∫–∞—Ä—Ç–µ] (—Å—Å—ã–ª–∫–∞)
```

---

## üéØ Workflow 6: –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –æ—Ç—á–µ—Ç—ã

### –¶–µ–ª—å
–°–æ–±–∏—Ä–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –æ—Ç—á–µ—Ç—ã –∞–¥–º–∏–Ω—É.

### –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –æ—Ç—á–µ—Ç:

```
1. Schedule Trigger (–∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 9:00)
   ‚Üì
2. Google Sheets: –°–æ–±–∏—Ä–∞–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∑–∞ –≤—á–µ—Ä–∞
   - –ù–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤
   - –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –≥–æ—Ä–æ–¥–∞
   - –ö–æ–Ω–≤–µ—Ä—Å–∏—è –≤ Premium
   ‚Üì
3. Google Sheets: –ß–∏—Ç–∞–µ–º Users –ø–æ —Ç–∏–ø–∞–º –ø–æ–¥–ø–∏—Å–æ–∫
   ‚Üì
4. Calculate:
   - MRR (Monthly Recurring Revenue)
   - Churn rate
   - ARPU (Average Revenue Per User)
   ‚Üì
5. Generate Chart (Chart.js –∏–ª–∏ Google Charts)
   ‚Üì
6. Telegram/Email: –û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç—á–µ—Ç –∞–¥–º–∏–Ω—É
```

### –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç:

```
1. Schedule Trigger (–∫–∞–∂–¥—ã–π –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ –≤ 10:00)
   ‚Üì
2. Google Sheets: –ê–Ω–∞–ª–∏–∑ –∑–∞ –Ω–µ–¥–µ–ª—é
   - –†–æ—Å—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–≥—Ä–∞—Ñ–∏–∫)
   - –¢–æ–ø-10 –≥–æ—Ä–æ–¥–æ–≤
   - –¢–æ–ø-10 —Å–æ–±—ã—Ç–∏–π
   - –ü—Ä–æ—Ü–µ–Ω—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
   ‚Üì
3. Google Sheets: –ß–∏—Ç–∞–µ–º Favorites
   - –°–∞–º—ã–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –≥–æ—Ä–æ–¥–∞
   - –°–∫–æ–ª—å–∫–æ —É –∫–æ–≥–æ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–º
   ‚Üì
4. Google Sheets: –ß–∏—Ç–∞–µ–º History
   - –°—Ä–µ–¥–Ω—è—è –¥–ª–∏–Ω–∞ –ø–æ–µ–∑–¥–∫–∏
   - –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –¥–∞—Ç—ã
   ‚Üì
5. OpenAI: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è insights –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π

   Prompt:
   "–í–æ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–æ—Ç–∞ –∑–∞ –Ω–µ–¥–µ–ª—é: {stats}
   –î–∞–π 3-5 —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –ø–æ —É–ª—É—á—à–µ–Ω–∏—é –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏–∏"
   ‚Üì
6. Format Report (HTML)
   ‚Üì
7. Email: –ü–æ–¥—Ä–æ–±–Ω—ã–π –æ—Ç—á–µ—Ç —Å –≥—Ä–∞—Ñ–∏–∫–∞–º–∏
```

---

## üõ† –£—Å—Ç–∞–Ω–æ–≤–∫–∞ N8N

### –í–∞—Ä–∏–∞–Ω—Ç 1: Docker (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –°–æ–∑–¥–∞–µ–º docker-compose.yml
version: '3'
services:
  n8n:
    image: n8nio/n8n
    ports:
      - "5678:5678"
    environment:
      - N8N_BASIC_AUTH_ACTIVE=true
      - N8N_BASIC_AUTH_USER=admin
      - N8N_BASIC_AUTH_PASSWORD=–≤–∞—à_–ø–∞—Ä–æ–ª—å
    volumes:
      - ./n8n-data:/home/node/.n8n

# –ó–∞–ø—É—Å–∫
docker-compose up -d

# –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:5678
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: npm

```bash
npm install n8n -g
n8n start
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: N8N Cloud (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω)

1. –û—Ç–∫—Ä–æ–π—Ç–µ [n8n.cloud](https://n8n.cloud)
2. –°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç
3. –ë–µ—Å–ø–ª–∞—Ç–Ω–æ: 5000 –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–π/–º–µ—Å—è—Ü

---

## üìã –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤ N8N

### 1. Google Sheets
- **Credentials:** OAuth2 –∏–ª–∏ Service Account
- **Scope:** –ß—Ç–µ–Ω–∏–µ –∏ –∑–∞–ø–∏—Å—å

### 2. Telegram Bot
- **Credentials:** Bot Token
- **–§—É–Ω–∫—Ü–∏–∏:** –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

### 3. KudaGo API
- **Credentials:** –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è (–ø—É–±–ª–∏—á–Ω—ã–π API)
- **HTTP Request node**

### 4. OpenAI
- **Credentials:** API Key
- **Model:** GPT-4 –∏–ª–∏ GPT-3.5-turbo

### 5. Yandex Maps
- **Credentials:** API Key
- **HTTP Request node**

### 6. Cloudinary (–¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π)
- **Credentials:** Cloud name, API Key, API Secret
- **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã:** AWS S3, Imgur

### 7. Payment Providers
- **–ÆMoney:** Merchant ID, Secret
- **CloudPayments:** Public ID, API Secret
- **–°–ë–ü:** Bank API credentials

---

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –≤ Google Sheets

### –õ–∏—Å—Ç "Events Cache"

```
A: event_id
B: city
C: title
D: description
E: event_date
F: price
G: image_url
H: category
I: venue_name
J: venue_address
K: cached_at
L: is_active
M: kudago_url
```

### –õ–∏—Å—Ç "Notifications Log"

```
A: id
B: user_id
C: notification_type
D: event_id
E: sent_at
F: is_delivered
G: error_message
```

### –õ–∏—Å—Ç "Analytics"

```
A: date
B: new_users
C: total_requests
D: premium_conversions
E: revenue
F: most_popular_city
G: active_users
```

---

## üöÄ –ü–ª–∞–Ω –∑–∞–ø—É—Å–∫–∞

### –≠—Ç–∞–ø 1: –ë–∞–∑–æ–≤–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è (1-2 –¥–Ω—è)
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å N8N
2. –ü–æ–¥–∫–ª—é—á–∏—Ç—å Google Sheets
3. –°–æ–∑–¥–∞—Ç—å Workflow 1 (–ø–∞—Ä—Å–∏–Ω–≥ —Å–æ–±—ã—Ç–∏–π)
4. –°–æ–∑–¥–∞—Ç—å Workflow 2 (–ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏)

### –≠—Ç–∞–ø 2: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (2-3 –¥–Ω—è)
1. –°–æ–∑–¥–∞—Ç—å Workflow 3.1 (–∑–∞ 24 —á–∞—Å–∞)
2. –°–æ–∑–¥–∞—Ç—å Workflow 3.5 (–æ–∫–æ–Ω—á–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏)
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É –≤ Telegram

### –≠—Ç–∞–ø 3: AI –∏ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è (3-4 –¥–Ω—è)
1. –ü–æ–¥–∫–ª—é—á–∏—Ç—å OpenAI
2. –°–æ–∑–¥–∞—Ç—å Workflow 5 (AI-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏)
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–æ–º–ø—Ç—ã
4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

### –≠—Ç–∞–ø 4: –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (2 –¥–Ω—è)
1. –ü–æ–¥–∫–ª—é—á–∏—Ç—å Cloudinary
2. –°–æ–∑–¥–∞—Ç—å Workflow 4 (–æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π)
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å CDN

### –≠—Ç–∞–ø 5: –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ (1-2 –¥–Ω—è)
1. –°–æ–∑–¥–∞—Ç—å Workflow 6 (–æ—Ç—á–µ—Ç—ã)
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –≥—Ä–∞—Ñ–∏–∫–∏
3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –∞–¥–º–∏–Ω—É

**–û–±—â–µ–µ –≤—Ä–µ–º—è: 9-13 –¥–Ω–µ–π**

---

## üí° –°–æ–≤–µ—Ç—ã –∏ best practices

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–∞—Ç—á–∏–Ω–≥ (–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –ø–æ 50-100 –∑–∞–ø–∏—Å–µ–π –∑–∞ —Ä–∞–∑)
- –ö—ç—à–∏—Ä—É–π—Ç–µ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ CDN –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

### –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å
- –î–æ–±–∞–≤–ª—è–π—Ç–µ Error Workflow –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
- –õ–æ–≥–∏—Ä—É–π—Ç–µ –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Retry –º–µ—Ö–∞–Ω–∏–∑–º

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –•—Ä–∞–Ω–∏—Ç–µ credentials –≤ N8N Credentials Manager
- –ù–µ –ª–æ–≥–∏—Ä—É–π—Ç–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Webhook Secret –¥–ª—è –∑–∞—â–∏—Ç—ã —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–ª–µ—Ä—Ç—ã –Ω–∞ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è workflows
- –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —É—Å–ø–µ—à–Ω–æ—Å—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

---

## üìû –ß—Ç–æ –¥–∞–ª—å—à–µ?

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Google Sheets, –º–æ–∂–Ω–æ –ø—Ä–∏—Å—Ç—É–ø–∞—Ç—å –∫ N8N:

1. ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ N8N (Docker –∏–ª–∏ Cloud)
2. ‚úÖ –ü–æ–¥–∫–ª—é—á–∏—Ç–µ Google Sheets API
3. ‚úÖ –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –±–∞–∑–æ–≤—ã–µ workflows
4. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø–∞—Ä—Å–∏–Ω–≥ —Å–æ–±—ã—Ç–∏–π
5. ‚úÖ –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

**–§–∞–π–ª—ã workflows –±—É–¥—É—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω—ã –æ—Ç–¥–µ–ª—å–Ω–æ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞ –≤ N8N.**

üéâ –° N8N –±–æ—Ç —Å—Ç–∞–Ω–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º!
