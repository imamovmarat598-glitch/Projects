{
  "name": "Drug Monitor Compact",
  "active": true,
  "nodes": [
    {
      "parameters": {
        "rule": {
          "interval": [
            {
              "field": "hours",
              "hoursInterval": 1
            }
          ]
        }
      },
      "id": "trigger-collect",
      "name": "Collect Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1.2,
      "position": [
        0,
        0
      ]
    },
    {
      "parameters": {
        "jsCode": "\nconst sources = [\n  {\n    \"name\": \"–ú–í–î –†–§\",\n    \"url\": \"https://xn--b1aew.xn--p1ai/news/rss\"\n  },\n  {\n    \"name\": \"–†–æ—Å–≥–≤–∞—Ä–¥–∏—è\",\n    \"url\": \"https://rosgvard.ru/ru/rss\"\n  },\n  {\n    \"name\": \"–ì–µ–Ω–ø—Ä–æ–∫—É—Ä–∞—Ç—É—Ä–∞ –†–§\",\n    \"url\": \"https://genproc.gov.ru/rss/\"\n  },\n  {\n    \"name\": \"–°–ö –†–§\",\n    \"url\": \"https://sledcom.ru/rss_news\"\n  },\n  {\n    \"name\": \"–¢–ê–°–°\",\n    \"url\": \"https://tass.ru/rss/v2.xml\"\n  },\n  {\n    \"name\": \"–†–ò–ê –ü—Ä–æ–∏—Å—à–µ—Å—Ç–≤–∏—è\",\n    \"url\": \"https://ria.ru/export/rss2/incidents/index.xml\"\n  },\n  {\n    \"name\": \"–ò–Ω—Ç–µ—Ä—Ñ–∞–∫—Å\",\n    \"url\": \"https://www.interfax.ru/rss.asp\"\n  },\n  {\n    \"name\": \"Lenta.ru\",\n    \"url\": \"https://lenta.ru/rss/news/russia\"\n  },\n  {\n    \"name\": \"–ì–∞–∑–µ—Ç–∞.—Ä—É\",\n    \"url\": \"https://www.gazeta.ru/export/rss/incidents.xml\"\n  },\n  {\n    \"name\": \"–ò–∑–≤–µ—Å—Ç–∏—è\",\n    \"url\": \"https://iz.ru/xml/rss/all.xml\"\n  },\n  {\n    \"name\": \"–ö–æ–º–º–µ—Ä—Å–∞–Ω—Ç\",\n    \"url\": \"https://www.kommersant.ru/RSS/news.xml\"\n  },\n  {\n    \"name\": \"–†–ë–ö\",\n    \"url\": \"https://rssexport.rbc.ru/rbcnews/news/30/full.rss\"\n  },\n  {\n    \"name\": \"Regnum\",\n    \"url\": \"https://regnum.ru/rss/news\"\n  },\n  {\n    \"name\": \"–ú–ö\",\n    \"url\": \"https://www.mk.ru/rss/index.xml\"\n  },\n  {\n    \"name\": \"–í–µ—á–µ—Ä–Ω—è—è –ú–æ—Å–∫–≤–∞\",\n    \"url\": \"https://vm.ru/rss/news.xml\"\n  },\n  {\n    \"name\": \"–ú–æ—Å–∫–≤–∞ 24\",\n    \"url\": \"https://www.m24.ru/rss.xml\"\n  },\n  {\n    \"name\": \"–ú–æ—Å–ª–µ–Ω—Ç–∞\",\n    \"url\": \"https://moslenta.ru/rss.xml\"\n  },\n  {\n    \"name\": \"360\",\n    \"url\": \"https://360tv.ru/rss/\"\n  },\n  {\n    \"name\": \"–§–æ–Ω—Ç–∞–Ω–∫–∞\",\n    \"url\": \"https://www.fontanka.ru/fontanka.rss\"\n  },\n  {\n    \"name\": \"–ú–æ–π–∫–∞78\",\n    \"url\": \"https://m.78.ru/rss/\"\n  },\n  {\n    \"name\": \"–°–ü–± –î–Ω–µ–≤–Ω–∏–∫\",\n    \"url\": \"https://spbdnevnik.ru/rss\"\n  },\n  {\n    \"name\": \"47news –õ–µ–Ω–æ–±–ª–∞—Å—Ç—å\",\n    \"url\": \"https://47news.ru/rss/\"\n  },\n  {\n    \"name\": \"–ë–µ–ª–≥–æ—Ä–æ–¥\",\n    \"url\": \"https://www.bel.ru/rss/\"\n  },\n  {\n    \"name\": \"–ë—Ä—è–Ω—Å–∫\",\n    \"url\": \"https://www.bryansk.kp.ru/rss/\"\n  },\n  {\n    \"name\": \"–í–ª–∞–¥–∏–º–∏—Ä\",\n    \"url\": \"https://www.vladimir.kp.ru/rss/\"\n  },\n  {\n    \"name\": \"–í–æ—Ä–æ–Ω–µ–∂\",\n    \"url\": \"https://www.vrn.kp.ru/rss/\"\n  },\n  {\n    \"name\": \"–ò–≤–∞–Ω–æ–≤–æ\",\n    \"url\": \"https://www.ivanovonews.ru/rss/\"\n  },\n  {\n    \"name\": \"–ö–∞–ª—É–≥–∞\",\n    \"url\": \"https://www.kaluga.kp.ru/rss/\"\n  },\n  {\n    \"name\": \"–ö–ü –û–±—â–∏–π\",\n    \"url\": \"https://www.kp.ru/rss/allsections.xml\"\n  },\n  {\n    \"name\": \"–ö—É—Ä—Å–∫\",\n    \"url\": \"https://www.kursk.kp.ru/rss/\"\n  },\n  {\n    \"name\": \"–õ–∏–ø–µ—Ü–∫\",\n    \"url\": \"https://www.lipetsk.kp.ru/rss/\"\n  },\n  {\n    \"name\": \"–û—Ä–µ–ª\",\n    \"url\": \"https://newsorel.ru/feed/\"\n  },\n  {\n    \"name\": \"–†—è–∑–∞–Ω—å\",\n    \"url\": \"https://www.ryazan.kp.ru/rss/\"\n  },\n  {\n    \"name\": \"–°–º–æ–ª–µ–Ω—Å–∫\",\n    \"url\": \"https://www.smolensk.kp.ru/rss/\"\n  },\n  {\n    \"name\": \"–¢–∞–º–±–æ–≤\",\n    \"url\": \"https://www.tambov.kp.ru/rss/\"\n  },\n  {\n    \"name\": \"–¢–≤–µ—Ä—å\",\n    \"url\": \"https://www.tver.kp.ru/rss/\"\n  },\n  {\n    \"name\": \"–¢—É–ª–∞\",\n    \"url\": \"https://www.tula.kp.ru/rss/\"\n  },\n  {\n    \"name\": \"–Ø—Ä–æ—Å–ª–∞–≤–ª—å\",\n    \"url\": \"https://www.yar.kp.ru/rss/\"\n  },\n  {\n    \"name\": \"–ê—Ä—Ö–∞–Ω–≥–µ–ª—å—Å–∫\",\n    \"url\": \"https://29.ru/rss/\"\n  },\n  {\n    \"name\": \"–í–æ–ª–æ–≥–¥–∞\",\n    \"url\": \"https://newsvo.ru/rss\"\n  },\n  {\n    \"name\": \"–ö–∞–ª–∏–Ω–∏–Ω–≥—Ä–∞–¥\",\n    \"url\": \"https://www.kaliningrad.kp.ru/rss/\"\n  },\n  {\n    \"name\": \"–ö–∞—Ä–µ–ª–∏—è\",\n    \"url\": \"https://www.stolica-onego.ru/rss/news/\"\n  },\n  {\n    \"name\": \"–ö–æ–º–∏\",\n    \"url\": \"https://www.bnkomi.ru/rss/\"\n  },\n  {\n    \"name\": \"–ú—É—Ä–º–∞–Ω—Å–∫\",\n    \"url\": \"https://www.mvestnik.ru/rss/\"\n  },\n  {\n    \"name\": \"–ù–æ–≤–≥–æ—Ä–æ–¥\",\n    \"url\": \"https://53news.ru/feed/\"\n  },\n  {\n    \"name\": \"–ü—Å–∫–æ–≤\",\n    \"url\": \"https://informpskov.ru/rss/\"\n  },\n  {\n    \"name\": \"–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä\",\n    \"url\": \"https://www.kuban.kp.ru/rss/\"\n  },\n  {\n    \"name\": \"–°–æ—á–∏\",\n    \"url\": \"https://www.sochi.kp.ru/rss/\"\n  },\n  {\n    \"name\": \"–†–æ—Å—Ç–æ–≤\",\n    \"url\": \"https://www.donnews.ru/rss/\"\n  },\n  {\n    \"name\": \"–í–æ–ª–≥–æ–≥—Ä–∞–¥\",\n    \"url\": \"https://www.volgograd.kp.ru/rss/\"\n  },\n  {\n    \"name\": \"–ê—Å—Ç—Ä–∞—Ö–∞–Ω—å\",\n    \"url\": \"https://www.ast.kp.ru/rss/\"\n  },\n  {\n    \"name\": \"–ê–¥—ã–≥–µ—è\",\n    \"url\": \"https://www.adigea.aif.ru/rss/all.php\"\n  },\n  {\n    \"name\": \"–ö—Ä—ã–º\",\n    \"url\": \"https://crimea.kp.ru/rss/\"\n  },\n  {\n    \"name\": \"–°–µ–≤–∞—Å—Ç–æ–ø–æ–ª—å\",\n    \"url\": \"https://sevastopol.su/feed/\"\n  },\n  {\n    \"name\": \"–î–∞–≥–µ—Å—Ç–∞–Ω\",\n    \"url\": \"https://www.riadagestan.ru/rss/\"\n  },\n  {\n    \"name\": \"–ò–Ω–≥—É—à–µ—Ç–∏—è\",\n    \"url\": \"https://www.ingushetia.kp.ru/rss/\"\n  },\n  {\n    \"name\": \"–ö–ë–†\",\n    \"url\": \"https://www.kbr.kp.ru/rss/\"\n  },\n  {\n    \"name\": \"–ö–ß–†\",\n    \"url\": \"https://www.kchr.kp.ru/rss/\"\n  },\n  {\n    \"name\": \"–°–µ–≤ –û—Å–µ—Ç–∏—è\",\n    \"url\": \"https://15-gosnews.ru/rss/\"\n  },\n  {\n    \"name\": \"–ß–µ—á–Ω—è\",\n    \"url\": \"https://chechnyatoday.com/rss/\"\n  },\n  {\n    \"name\": \"–°—Ç–∞–≤—Ä–æ–ø–æ–ª—å\",\n    \"url\": \"https://www.stav.kp.ru/rss/\"\n  },\n  {\n    \"name\": \"–ù–∏–∂–Ω–∏–π –ù–æ–≤–≥–æ—Ä–æ–¥\",\n    \"url\": \"https://www.nn.ru/rss/\"\n  },\n  {\n    \"name\": \"–ö–∏—Ä–æ–≤\",\n    \"url\": \"https://www.kirov.kp.ru/rss/\"\n  },\n  {\n    \"name\": \"–°–∞–º–∞—Ä–∞\",\n    \"url\": \"https://www.samru.ru/rss/\"\n  },\n  {\n    \"name\": \"–°–∞—Ä–∞—Ç–æ–≤\",\n    \"url\": \"https://www.saratov.kp.ru/rss/\"\n  },\n  {\n    \"name\": \"–ö–∞–∑–∞–Ω—å\",\n    \"url\": \"https://www.kzn.ru/export/rss.xml\"\n  },\n  {\n    \"name\": \"–ò–∂–µ–≤—Å–∫\",\n    \"url\": \"https://www.udm.kp.ru/rss/\"\n  },\n  {\n    \"name\": \"–£—Ñ–∞\",\n    \"url\": \"https://bash.news/rss/\"\n  },\n  {\n    \"name\": \"–ü–µ—Ä–º—å\",\n    \"url\": \"https://www.perm.kp.ru/rss/\"\n  },\n  {\n    \"name\": \"–û—Ä–µ–Ω–±—É—Ä–≥\",\n    \"url\": \"https://www.orenburg.kp.ru/rss/\"\n  },\n  {\n    \"name\": \"–ü–µ–Ω–∑–∞\",\n    \"url\": \"https://www.penza.kp.ru/rss/\"\n  },\n  {\n    \"name\": \"–£–ª—å—è–Ω–æ–≤—Å–∫\",\n    \"url\": \"https://www.ul.kp.ru/rss/\"\n  },\n  {\n    \"name\": \"–ß–µ–±–æ–∫—Å–∞—Ä—ã\",\n    \"url\": \"https://www.cheb.kp.ru/rss/\"\n  },\n  {\n    \"name\": \"–ô–æ—à–∫–∞—Ä-–û–ª–∞\",\n    \"url\": \"https://www.mari.kp.ru/rss/\"\n  },\n  {\n    \"name\": \"–°–∞—Ä–∞–Ω—Å–∫\",\n    \"url\": \"https://www.mordovia.kp.ru/rss/\"\n  },\n  {\n    \"name\": \"–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥\",\n    \"url\": \"https://www.e1.ru/export/rss/news.xml\"\n  },\n  {\n    \"name\": \"–ß–µ–ª—è–±–∏–Ω—Å–∫\",\n    \"url\": \"https://www.chel.kp.ru/rss/\"\n  },\n  {\n    \"name\": \"–¢—é–º–µ–Ω—å\",\n    \"url\": \"https://www.tyumen.kp.ru/rss/\"\n  },\n  {\n    \"name\": \"–ö—É—Ä–≥–∞–Ω\",\n    \"url\": \"https://www.kurgan.kp.ru/rss/\"\n  },\n  {\n    \"name\": \"–•–ú–ê–û\",\n    \"url\": \"https://ugra-news.ru/rss/\"\n  },\n  {\n    \"name\": \"–Ø–ù–ê–û\",\n    \"url\": \"https://sever-press.ru/feed/\"\n  },\n  {\n    \"name\": \"–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫\",\n    \"url\": \"https://news.ngs.ru/rss/\"\n  },\n  {\n    \"name\": \"–û–º—Å–∫\",\n    \"url\": \"https://www.omsk.kp.ru/rss/\"\n  },\n  {\n    \"name\": \"–¢–æ–º—Å–∫\",\n    \"url\": \"https://www.tomsk.kp.ru/rss/\"\n  },\n  {\n    \"name\": \"–ö–µ–º–µ—Ä–æ–≤–æ\",\n    \"url\": \"https://www.kem.kp.ru/rss/\"\n  },\n  {\n    \"name\": \"–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫\",\n    \"url\": \"https://newslab.ru/rss/\"\n  },\n  {\n    \"name\": \"–ò—Ä–∫—É—Ç—Å–∫\",\n    \"url\": \"https://irk.ru/news/rss/\"\n  },\n  {\n    \"name\": \"–ë–∞—Ä–Ω–∞—É–ª\",\n    \"url\": \"https://www.altai.kp.ru/rss/\"\n  },\n  {\n    \"name\": \"–ì–æ—Ä–Ω–æ-–ê–ª—Ç–∞–π—Å–∫\",\n    \"url\": \"https://www.gorno-altaisk.info/rss\"\n  },\n  {\n    \"name\": \"–ê–±–∞–∫–∞–Ω\",\n    \"url\": \"https://www.19rus.info/rss/\"\n  },\n  {\n    \"name\": \"–ö—ã–∑—ã–ª\",\n    \"url\": \"https://www.tuvaonline.ru/rss/\"\n  },\n  {\n    \"name\": \"–ë—É—Ä—è—Ç–∏—è\",\n    \"url\": \"https://www.infpol.ru/rss/\"\n  },\n  {\n    \"name\": \"–í–ª–∞–¥–∏–≤–æ—Å—Ç–æ–∫\",\n    \"url\": \"https://primgazeta.ru/feed/\"\n  },\n  {\n    \"name\": \"–•–∞–±–∞—Ä–æ–≤—Å–∫\",\n    \"url\": \"https://khabarovsk.bezformata.com/rss/\"\n  },\n  {\n    \"name\": \"–ë–ª–∞–≥–æ–≤–µ—â–µ–Ω—Å–∫\",\n    \"url\": \"https://www.amur.kp.ru/rss/\"\n  },\n  {\n    \"name\": \"–Ø–∫—É—Ç—Å–∫\",\n    \"url\": \"https://news.ykt.ru/rss\"\n  },\n  {\n    \"name\": \"–ú–∞–≥–∞–¥–∞–Ω\",\n    \"url\": \"https://magadanmedia.ru/rss/\"\n  },\n  {\n    \"name\": \"–°–∞—Ö–∞–ª–∏–Ω\",\n    \"url\": \"https://sakhalinmedia.ru/rss/\"\n  },\n  {\n    \"name\": \"–ö–∞–º—á–∞—Ç–∫–∞\",\n    \"url\": \"https://kamchatinfo.com/feed/\"\n  },\n  {\n    \"name\": \"–ï–ê–û\",\n    \"url\": \"https://eaomedia.ru/rss/\"\n  },\n  {\n    \"name\": \"TG –ú–í–î\",\n    \"url\": \"https://rsshub.app/telegram/channel/mvaborjba\"\n  },\n  {\n    \"name\": \"TG –†–æ—Å–≥–≤–∞—Ä–¥–∏—è\",\n    \"url\": \"https://rsshub.app/telegram/channel/roslosgvard\"\n  },\n  {\n    \"name\": \"TG –°–ö –†–§\",\n    \"url\": \"https://rsshub.app/telegram/channel/sledaborjba\"\n  },\n  {\n    \"name\": \"TG Mash\",\n    \"url\": \"https://rsshub.app/telegram/channel/breakingmash\"\n  },\n  {\n    \"name\": \"TG Shot\",\n    \"url\": \"https://rsshub.app/telegram/channel/shot_shot\"\n  },\n  {\n    \"name\": \"TG Baza\",\n    \"url\": \"https://rsshub.app/telegram/channel/bazabazon\"\n  },\n  {\n    \"name\": \"TG –†–ò–ê\",\n    \"url\": \"https://rsshub.app/telegram/channel/rian_ru\"\n  },\n  {\n    \"name\": \"TG –ú–µ–¥–∏–∞–∑–æ–Ω–∞\",\n    \"url\": \"https://rsshub.app/telegram/channel/mediazona\"\n  },\n  {\n    \"name\": \"TG 112\",\n    \"url\": \"https://rsshub.app/telegram/channel/oslozhneniya_news\"\n  },\n  {\n    \"name\": \"TG –û—Å—Ç–æ—Ä–æ–∂–Ω–æ\",\n    \"url\": \"https://rsshub.app/telegram/channel/oslozhneniya\"\n  },\n  {\n    \"name\": \"TG Life Shot\",\n    \"url\": \"https://rsshub.app/telegram/channel/life_shot\"\n  },\n  {\n    \"name\": \"TG Lab\",\n    \"url\": \"https://rsshub.app/telegram/channel/laborjba\"\n  },\n  {\n    \"name\": \"TG –¢–∞–±–æ—Ä\",\n    \"url\": \"https://rsshub.app/telegram/channel/taboratelegram\"\n  },\n  {\n    \"name\": \"TG Readovka\",\n    \"url\": \"https://rsshub.app/telegram/channel/readovkanews\"\n  },\n  {\n    \"name\": \"TG –í–ß–ö-–û–ì–ü–£\",\n    \"url\": \"https://rsshub.app/telegram/channel/vchkogpu\"\n  },\n  {\n    \"name\": \"TG –°—É–¥—ã –ú–æ—Å–∫–≤—ã\",\n    \"url\": \"https://rsshub.app/telegram/channel/moscowcourts\"\n  },\n  {\n    \"name\": \"TG –§–æ–Ω—Ç–∞–Ω–∫–∞\",\n    \"url\": \"https://rsshub.app/telegram/channel/fontaborjba\"\n  },\n  {\n    \"name\": \"TG –ö—É–±–∞–Ω—å\",\n    \"url\": \"https://rsshub.app/telegram/channel/kubnews\"\n  },\n  {\n    \"name\": \"TG –ö—Ä—ã–º\",\n    \"url\": \"https://rsshub.app/telegram/channel/crimeanews\"\n  },\n  {\n    \"name\": \"TG –î–∞–≥–µ—Å—Ç–∞–Ω\",\n    \"url\": \"https://rsshub.app/telegram/channel/dagestan_news\"\n  },\n  {\n    \"name\": \"TG –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫\",\n    \"url\": \"https://rsshub.app/telegram/channel/nsk_news\"\n  },\n  {\n    \"name\": \"TG –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥\",\n    \"url\": \"https://rsshub.app/telegram/channel/ekbnews\"\n  },\n  {\n    \"name\": \"TG –ß–µ–ª—è–±–∏–Ω—Å–∫\",\n    \"url\": \"https://rsshub.app/telegram/channel/chelaborjba\"\n  },\n  {\n    \"name\": \"TG –ö–∞–∑–∞–Ω—å\",\n    \"url\": \"https://rsshub.app/telegram/channel/kazannews\"\n  },\n  {\n    \"name\": \"TG –£—Ñ–∞\",\n    \"url\": \"https://rsshub.app/telegram/channel/ufanews\"\n  },\n  {\n    \"name\": \"TG –ü–µ—Ä–º—å\",\n    \"url\": \"https://rsshub.app/telegram/channel/permnews\"\n  },\n  {\n    \"name\": \"TG –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä 2\",\n    \"url\": \"https://rsshub.app/telegram/channel/krasnodar_krai\"\n  },\n  {\n    \"name\": \"TG –†–æ—Å—Ç–æ–≤\",\n    \"url\": \"https://rsshub.app/telegram/channel/rostov_news\"\n  },\n  {\n    \"name\": \"TG –ò—Ä–∫—É—Ç—Å–∫\",\n    \"url\": \"https://rsshub.app/telegram/channel/irkutsk_news\"\n  },\n  {\n    \"name\": \"TG –í–ª–∞–¥–∏–≤–æ—Å—Ç–æ–∫\",\n    \"url\": \"https://rsshub.app/telegram/channel/vladivostok_news\"\n  },\n  {\n    \"name\": \"TG –•–∞–±–∞—Ä–æ–≤—Å–∫\",\n    \"url\": \"https://rsshub.app/telegram/channel/khababorjba\"\n  },\n  {\n    \"name\": \"TG –Ø–∫—É—Ç–∏—è\",\n    \"url\": \"https://rsshub.app/telegram/channel/yakutia_news\"\n  },\n  {\n    \"name\": \"TG –°–∞—Ö–∞–ª–∏–Ω\",\n    \"url\": \"https://rsshub.app/telegram/channel/sakhalin_news\"\n  },\n  {\n    \"name\": \"TG –ù–∞—Ä–∫–æ–∫–æ–Ω—Ç—Ä–æ–ª—å\",\n    \"url\": \"https://rsshub.app/telegram/channel/aborigen75\"\n  },\n  {\n    \"name\": \"TG –¢–∞–±–æ—Ä Daily\",\n    \"url\": \"https://rsshub.app/telegram/channel/taborjba_daily\"\n  },\n  {\n    \"name\": \"Tengri KZ\",\n    \"url\": \"https://tengrinews.kz/rss/\"\n  },\n  {\n    \"name\": \"Zakon KZ\",\n    \"url\": \"https://www.zakon.kz/rss/\"\n  },\n  {\n    \"name\": \"Nur KZ\",\n    \"url\": \"https://nur.kz/rss/\"\n  },\n  {\n    \"name\": \"Informburo KZ\",\n    \"url\": \"https://informburo.kz/rss\"\n  },\n  {\n    \"name\": \"Kapital KZ\",\n    \"url\": \"https://kapital.kz/rss/\"\n  },\n  {\n    \"name\": \"–ë–µ–ª–¢–ê BY\",\n    \"url\": \"https://www.belta.by/rss\"\n  },\n  {\n    \"name\": \"Onliner BY\",\n    \"url\": \"https://onliner.by/feed\"\n  },\n  {\n    \"name\": \"–°–ë BY\",\n    \"url\": \"https://www.sb.by/rss/\"\n  },\n  {\n    \"name\": \"Gazeta UZ\",\n    \"url\": \"https://www.gazeta.uz/ru/rss/\"\n  },\n  {\n    \"name\": \"Kun UZ\",\n    \"url\": \"https://kun.uz/ru/rss\"\n  },\n  {\n    \"name\": \"UzDaily\",\n    \"url\": \"https://uzdaily.uz/ru/rss\"\n  },\n  {\n    \"name\": \"24kg KG\",\n    \"url\": \"https://24.kg/rss/\"\n  },\n  {\n    \"name\": \"Kloop KG\",\n    \"url\": \"https://kloop.kg/feed/\"\n  },\n  {\n    \"name\": \"Asia-Plus TJ\",\n    \"url\": \"https://asiaplustj.info/ru/rss\"\n  },\n  {\n    \"name\": \"News AM\",\n    \"url\": \"https://news.am/rus/rss/\"\n  },\n  {\n    \"name\": \"Sputnik BY\",\n    \"url\": \"https://sputnik.by/export/rss2/archive/index.xml\"\n  },\n  {\n    \"name\": \"Sputnik KZ\",\n    \"url\": \"https://ru.sputnik.kz/export/rss2/archive/index.xml\"\n  },\n  {\n    \"name\": \"APA AZ\",\n    \"url\": \"https://apa.az/ru/rss\"\n  },\n  {\n    \"name\": \"Trend AZ\",\n    \"url\": \"https://trend.az/rss/\"\n  },\n  {\n    \"name\": \"IPN MD\",\n    \"url\": \"https://www.ipn.md/ru/rss\"\n  },\n  {\n    \"name\": \"Civil GE\",\n    \"url\": \"https://civil.ge/ru/feed/\"\n  },\n  {\n    \"name\": \"Sputnik GE\",\n    \"url\": \"https://sputnik-georgia.ru/export/rss2/archive/index.xml\"\n  },\n  {\n    \"name\": \"Sputnik AM\",\n    \"url\": \"https://ru.armeniasputnik.am/export/rss2/archive/index.xml\"\n  },\n  {\n    \"name\": \"–ù–æ–≤–æ—Ç–µ–∫–∞\",\n    \"url\": \"https://novoteka.ru/rss\"\n  },\n  {\n    \"name\": \"NewsRu\",\n    \"url\": \"https://www.newsru.com/rss/index\"\n  },\n  {\n    \"name\": \"–í–µ–¥–æ–º–æ—Å—Ç–∏\",\n    \"url\": \"https://www.vedomosti.ru/rss/news\"\n  },\n  {\n    \"name\": \"–ù–ì\",\n    \"url\": \"https://www.ng.ru/rss\"\n  },\n  {\n    \"name\": \"–ê–∏–§\",\n    \"url\": \"https://www.aif.ru/rss/all.php\"\n  },\n  {\n    \"name\": \"–ù–æ–≤–∞—è –ì–∞–∑–µ—Ç–∞\",\n    \"url\": \"https://www.novayagazeta.ru/rss/all.xml\"\n  },\n  {\n    \"name\": \"–ê—Ñ–∏—à–∞ Daily\",\n    \"url\": \"https://daily.afisha.ru/rss/\"\n  },\n  {\n    \"name\": \"Meduza\",\n    \"url\": \"https://meduza.io/rss/all\"\n  },\n  {\n    \"name\": \"Village\",\n    \"url\": \"https://www.the-village.ru/rss\"\n  },\n  {\n    \"name\": \"–°–µ–∫—Ä–µ—Ç –§–∏—Ä–º—ã\",\n    \"url\": \"https://secretmag.ru/rss.xml\"\n  },\n  {\n    \"name\": \"–ü—Ä–∞–≤–¥–∞\",\n    \"url\": \"https://www.pravda.ru/rss/\"\n  },\n  {\n    \"name\": \"Life\",\n    \"url\": \"https://life.ru/rss\"\n  },\n  {\n    \"name\": \"–ë–∏–∑–Ω–µ—Å Online\",\n    \"url\": \"https://www.business-gazeta.ru/rss\"\n  },\n  {\n    \"name\": \"161 –†–æ—Å—Ç–æ–≤\",\n    \"url\": \"https://161.ru/rss/\"\n  },\n  {\n    \"name\": \"74 –ß–µ–ª—è–±–∏–Ω—Å–∫\",\n    \"url\": \"https://74.ru/rss/\"\n  },\n  {\n    \"name\": \"59 –ü–µ—Ä–º—å\",\n    \"url\": \"https://59.ru/rss/\"\n  },\n  {\n    \"name\": \"63 –°–∞–º–∞—Ä–∞\",\n    \"url\": \"https://63.ru/rss/\"\n  },\n  {\n    \"name\": \"72 –¢—é–º–µ–Ω—å\",\n    \"url\": \"https://72.ru/rss/\"\n  },\n  {\n    \"name\": \"56 –û—Ä–µ–Ω–±—É—Ä–≥\",\n    \"url\": \"https://56.ru/rss/\"\n  },\n  {\n    \"name\": \"93 –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä\",\n    \"url\": \"https://93.ru/rss/\"\n  },\n  {\n    \"name\": \"V1 –í–æ–ª–≥–æ–≥—Ä–∞–¥\",\n    \"url\": \"https://v1.ru/rss/\"\n  },\n  {\n    \"name\": \"116 –ö–∞–∑–∞–Ω—å\",\n    \"url\": \"https://116.ru/rss/\"\n  },\n  {\n    \"name\": \"102 –£—Ñ–∞\",\n    \"url\": \"https://102.ru/rss/\"\n  },\n  {\n    \"name\": \"NN News\",\n    \"url\": \"https://nn-news.net/rss/\"\n  },\n  {\n    \"name\": \"–ö–ü –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫\",\n    \"url\": \"https://www.nsk.kp.ru/rss/\"\n  },\n  {\n    \"name\": \"–ö–ü –£—Ä–∞–ª\",\n    \"url\": \"https://www.ural.kp.ru/rss/\"\n  },\n  {\n    \"name\": \"–ö–ü –°–ü–±\",\n    \"url\": \"https://www.spb.kp.ru/rss/\"\n  },\n  {\n    \"name\": \"–ö–ü –î–í\",\n    \"url\": \"https://www.dv.kp.ru/rss/\"\n  },\n  {\n    \"name\": \"–ö–ü –ö—Ä—ã–º\",\n    \"url\": \"https://www.crimea.kp.ru/rss/\"\n  },\n  {\n    \"name\": \"Ura.news\",\n    \"url\": \"https://ura.news/rss\"\n  }\n]\n\nasync function parseRSS(url, name) {\n  try {\n    const response = await fetch(url, {\n      signal: AbortSignal.timeout(10000),\n      headers: { 'User-Agent': 'Mozilla/5.0 n8n RSS Reader' }\n    });\n    const text = await response.text();\n    const items = [];\n\n    // Simple regex to find items\n    const itemRegex = /<item[^>]*>([\\s\\S]*?)<\\/item>/gi;\n    let match;\n\n    while ((match = itemRegex.exec(text)) !== null) {\n      const itemXml = match[1];\n\n      // Extract fields with simple patterns\n      let title = '';\n      let link = '';\n      let pubDate = '';\n      let desc = '';\n\n      const titleMatch = itemXml.match(/<title[^>]*>([\\s\\S]*?)<\\/title>/i);\n      if (titleMatch) title = titleMatch[1].replace(/<!\\[CDATA\\[|\\]\\]>/g, '').trim();\n\n      const linkMatch = itemXml.match(/<link[^>]*>([^<]*)<\\/link>/i);\n      if (linkMatch) link = linkMatch[1].trim();\n\n      const dateMatch = itemXml.match(/<pubDate[^>]*>([^<]*)<\\/pubDate>/i);\n      if (dateMatch) pubDate = dateMatch[1].trim();\n\n      const descMatch = itemXml.match(/<description[^>]*>([\\s\\S]*?)<\\/description>/i);\n      if (descMatch) desc = descMatch[1].replace(/<!\\[CDATA\\[|\\]\\]>/g, '').replace(/<[^>]+>/g, '').substring(0, 300).trim();\n\n      if (title) {\n        items.push({ title, link, pubDate, description: desc, source: name });\n      }\n    }\n    return items;\n  } catch (e) {\n    return [];\n  }\n}\n\nconst batchSize = 30;\nconst allItems = [];\n\nfor (let i = 0; i < sources.length; i += batchSize) {\n  const batch = sources.slice(i, i + batchSize);\n  const results = await Promise.all(batch.map(s => parseRSS(s.url, s.name)));\n  results.forEach(items => allItems.push(...items));\n}\n\nreturn allItems.map(item => ({ json: item }));\n"
      },
      "id": "parse-rss",
      "name": "Parse All RSS",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        250,
        0
      ]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": false,
            "leftValue": "",
            "typeValidation": "loose"
          },
          "conditions": [
            {
              "id": "cond-date",
              "leftValue": "={{ $json.pubDate }}",
              "rightValue": "={{ $now.minus({hours: 6}).toISO() }}",
              "operator": {
                "type": "dateTime",
                "operation": "after"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "id": "filter-time",
      "name": "Filter 6h",
      "type": "n8n-nodes-base.filter",
      "typeVersion": 2.2,
      "position": [
        500,
        0
      ]
    },
    {
      "parameters": {
        "jsCode": "\nconst staticData = $getWorkflowStaticData('global');\nif (!staticData.news) staticData.news = [];\nconst items = $input.all();\nconst now = new Date().toISOString();\nfor (const item of items) {\n  if (item.json.title) {\n    staticData.news.push({\n      title: item.json.title,\n      link: item.json.link || '',\n      description: item.json.description || '',\n      pubDate: item.json.pubDate || now,\n      source: item.json.source || ''\n    });\n  }\n}\nif (staticData.news.length > 1000) {\n  staticData.news = staticData.news.slice(-1000);\n}\nreturn [{ json: { stored: items.length, total: staticData.news.length }}];\n"
      },
      "id": "store-news",
      "name": "Store News",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        750,
        0
      ]
    },
    {
      "parameters": {
        "rule": {
          "interval": [
            {
              "field": "hours",
              "hoursInterval": 6
            }
          ]
        }
      },
      "id": "trigger-process",
      "name": "Process Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1.2,
      "position": [
        0,
        300
      ]
    },
    {
      "parameters": {
        "jsCode": "\nconst staticData = $getWorkflowStaticData('global');\nconst news = staticData.news || [];\nif (news.length === 0) {\n  return [{ json: { empty: true, count: 0 }}];\n}\nconst seen = new Set();\nconst unique = [];\nfor (const item of news) {\n  const key = item.title.toLowerCase().trim().substring(0, 100);\n  if (!seen.has(key)) {\n    seen.add(key);\n    unique.push(item);\n  }\n}\nunique.sort((a, b) => new Date(b.pubDate || 0) - new Date(a.pubDate || 0));\nconst result = unique.slice(0, 150);\nreturn [{ json: { empty: false, count: result.length, data: result }}];\n"
      },
      "id": "read-news",
      "name": "Read & Dedupe",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        250,
        300
      ]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": false
          },
          "conditions": [
            {
              "id": "cond-not-empty",
              "leftValue": "={{ $json.empty }}",
              "rightValue": false,
              "operator": {
                "type": "boolean",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        }
      },
      "id": "filter-empty",
      "name": "Has Data",
      "type": "n8n-nodes-base.filter",
      "typeVersion": 2.2,
      "position": [
        500,
        300
      ]
    },
    {
      "parameters": {
        "resource": "text",
        "operation": "message",
        "modelId": {
          "__rl": true,
          "value": "gpt-4o-mini",
          "mode": "list",
          "cachedResultName": "GPT-4O-MINI"
        },
        "messages": {
          "values": [
            {
              "role": "system",
              "content": "–¢—ã —ç–∫—Å–ø–µ—Ä—Ç-–∞–Ω–∞–ª–∏—Ç–∏–∫ –ø–æ –Ω–∞—Ä–∫–æ—Å–∏—Ç—É–∞—Ü–∏–∏ –≤ –†–æ—Å—Å–∏–∏ –∏ –°–ù–ì.\n\n–ó–ê–î–ê–ß–ê: –ò–∑ —Å–ø–∏—Å–∫–∞ –Ω–æ–≤–æ—Å—Ç–µ–π –≤—ã–±–µ—Ä–∏ –¢–û–õ–¨–ö–û –æ:\n- –ò–∑—ä—è—Ç–∏–∏ –Ω–∞—Ä–∫–æ—Ç–∏–∫–æ–≤\n- –ó–∞–¥–µ—Ä–∂–∞–Ω–∏–∏ –Ω–∞—Ä–∫–æ–∫—É—Ä—å–µ—Ä–æ–≤/—Ç–æ—Ä–≥–æ–≤—Ü–µ–≤\n- –ù–∞—Ä–∫–æ–ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è—Ö\n- –û–ø–µ—Ä–∞—Ü–∏—è—Ö –ø—Ä–æ—Ç–∏–≤ –Ω–∞—Ä–∫–æ–≥—Ä—É–ø–ø–∏—Ä–æ–≤–æ–∫\n- –ü—Ä–∏–≥–æ–≤–æ—Ä–∞—Ö –ø–æ –Ω–∞—Ä–∫–æ—Å—Ç–∞—Ç—å—è–º\n\n–§–û–†–ú–ê–¢:\nüì∞ –°–í–û–î–ö–ê SKYNET\nüìÖ –î–∞—Ç–∞\n\nüîπ [–†–µ–≥–∏–æ–Ω]: –ó–∞–≥–æ–ª–æ–≤–æ–∫\n   –î–µ—Ç–∞–ª–∏ –∫—Ä–∞—Ç–∫–æ\n\nüìä –ò—Ç–æ–≥–æ: X –Ω–æ–≤–æ—Å—Ç–µ–π\n\n–ï—Å–ª–∏ –Ω–µ—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö - –æ—Ç–≤–µ—Ç—å: \"–ù–µ—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π –∑–∞ –ø–µ—Ä–∏–æ–¥.\""
            },
            {
              "role": "user",
              "content": "=–ù–æ–≤–æ—Å—Ç–∏ ({{ $json.count }}):\n\n{{ JSON.stringify($json.data, null, 2) }}"
            }
          ]
        },
        "options": {
          "maxTokens": 2500,
          "temperature": 0.3
        }
      },
      "id": "ai-analyze",
      "name": "AI Analyze",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "typeVersion": 2.1,
      "position": [
        750,
        300
      ],
      "credentials": {
        "openAiApi": {
          "id": "HmIYogVmhJbyYltO",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": false
          },
          "conditions": [
            {
              "id": "cond-relevant",
              "leftValue": "={{ $json.content }}",
              "rightValue": "–ù–µ—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö",
              "operator": {
                "type": "string",
                "operation": "notContains"
              }
            }
          ],
          "combinator": "and"
        }
      },
      "id": "filter-relevant",
      "name": "Has Relevant",
      "type": "n8n-nodes-base.filter",
      "typeVersion": 2.2,
      "position": [
        1000,
        300
      ]
    },
    {
      "parameters": {
        "chatId": "-1001121854465",
        "text": "={{ $json.content }}",
        "additionalFields": {
          "parse_mode": "HTML"
        }
      },
      "id": "telegram",
      "name": "Telegram",
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        1250,
        300
      ],
      "credentials": {
        "telegramApi": {
          "id": "IINTdyJBXXIXRYpW",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "\nconst staticData = $getWorkflowStaticData('global');\nconst count = (staticData.news || []).length;\nstaticData.news = [];\nreturn [{ json: { cleared: count }}];\n"
      },
      "id": "clear-storage",
      "name": "Clear Storage",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1500,
        300
      ]
    },
    {
      "parameters": {
        "content": "## Drug Monitor Compact\n\n**–°–±–æ—Ä—â–∏–∫ (–∫–∞–∂–¥—ã–π —á–∞—Å):**\nParse All RSS -> Filter 6h -> Store\n\n**–ü—Ä–æ—Ü–µ—Å—Å–æ—Ä (–∫–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤):**\nRead & Dedupe -> AI -> Telegram -> Clear\n\n**–ò—Å—Ç–æ—á–Ω–∏–∫–æ–≤:** 188\n**–ù–æ–¥:** 12\n\n–í—Å–µ RSS –ø–∞—Ä—Å—è—Ç—Å—è –æ–¥–Ω–∏–º Code node!",
        "height": 250,
        "width": 280
      },
      "id": "note-info",
      "name": "Info",
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -300,
        50
      ]
    }
  ],
  "connections": {
    "Collect Trigger": {
      "main": [
        [
          {
            "node": "Parse All RSS",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Parse All RSS": {
      "main": [
        [
          {
            "node": "Filter 6h",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Filter 6h": {
      "main": [
        [
          {
            "node": "Store News",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Process Trigger": {
      "main": [
        [
          {
            "node": "Read & Dedupe",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Read & Dedupe": {
      "main": [
        [
          {
            "node": "Has Data",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Has Data": {
      "main": [
        [
          {
            "node": "AI Analyze",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Analyze": {
      "main": [
        [
          {
            "node": "Has Relevant",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Has Relevant": {
      "main": [
        [
          {
            "node": "Telegram",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Telegram": {
      "main": [
        [
          {
            "node": "Clear Storage",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1"
  }
}